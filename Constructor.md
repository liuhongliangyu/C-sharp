## 构造函数的作用

构造函数，也叫构造器，英文为constractor。

构造函数：是用来构建创造对象的。如果没有构造函数，就不能创建对象，通过构造函数初始化对象及其成员变量。

构造：构建，创造对象。**构造函数的作用就是对对象进行构建创造。**

构造函数：创建构造对象时候调用的函数，可以对对象进行初始化。创建对象都必须要通过
构造函数进行初始化。

一个类中，如果没有定义构造函数，那么该类中会有一个默认的无参构造函数。
如果在一个类中定义了构造函数，那么类中的默认构造函数就没有了。

C#是面向对象语言，核心就是对象。如果没有构造函数则无法创建对象，所以构造函数作用非常重要。

## 构造函数的特点

* 函数的名字与类名相同
* 构造函数没有具体的返回值和返回值类型
* 每个类都有一个默认的无参构造函数
## 构造函数的表现形式

我们可以根据构造函数的特点在类中定义构造函数，如下所示
```C#
class ConstractDemo
{
  static void Main(string[] args)
  {
    new Person();//当创建一个对象的时候会自动调用构造方法
    //Person p = new Person();
    //p.Person();无法使用对象调用构造函数

    new Person(20, "旺财");//调用带参构造方法
  }
}

class Person
{
  private int age;
  private string name;

//public Person() {}//默认存在的构造函数长这样

  public Person() {}
  //带参数的构造函数
  public Person(int a)
  {
    age = a;
    return;//可以加return
  }
	//构造函数可以形成重载
  public Person(int a, string n)	//构造函数
  {
    age = a;
    name = n;
    Speak();//构造函数可以调用普通方法
  }

  public void Speak()
  {
    System.Console.WriteLine(name + ".." + age);	
  }	
}
```
## 析构函数的概念

析构函数是传统面向对象设计中常用的内容，可以回收内存中不再使用的对象所占用的内存。也就是说，析构函数用来销毁对象，释放对象所占用的内存空间，但由于定义类的时候编译器会自动生成一个默认的析构函数，所以一般情况下没必要编写析构函数。另外由于C#设计了非常完善的垃圾回收机制，一般也不用想析构函数里添加代码。

## 析构函数的特点

* 析构函数与类同名
* 要在函数名前加符号~
* 不能带任何参数
* 没有返回值和返回值类型
## 析构函数的表现形式

析构函数会在对象被销毁时执行，为了看到析构函数被执行我们可以在里面加入一定的代码并且使用垃圾回收机制强制回收对象。
```C#
class Cat
{
    public Cat()
    {
      Console.WriteLine("构造函数执行");
    }

    ~Cat()//析构函数的写法，需要符号~，方法名是类名
    {
      Console.WriteLine("析构函数执行");
    }
}

class Demo
{
   static void Main(string[] args)
   {
     new Cat();
     GC.Collect();//强制调用垃圾回收，会打印“析构函数执行”
     Console.Read();
   }
}

```
析构函数做为了解即可

## 总结

在本节课中我们学习了构造函数。大家应该明确构造函数的作用，如何定义构造函数以及如何使用构造函数。

### 一般函数和构造函数的区别？
* 构造函数：
    * 对象创建时会调用与之对应的构造函数，对对象进行初始化
		
    * 构造函数在初始化对象的时候只能调用一次
* 一般函数：
    * 对象创建后才能调用
		
    * 对象创建后可以被多次调用
    
**构造函数可以以重载的形式存在。**

### 构造函数细节：
1. 构造函数和属性冲突吗？不冲突
1. 构造函数可以调用普通函数吗？可以；普通函数能调用构造函数吗？不行。
1. 构造函数不能加void
1. 如果已经定义了构造函数，那么默认无参会消失
1. 构造函数可以加return吗？可以。    
    
    
